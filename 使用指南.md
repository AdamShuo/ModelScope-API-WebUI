# ModelScope API WebUI 使用指南

## 🎯 快速开始

### 第一步：启动应用
根据您的操作系统选择相应的启动方式：

#### Windows用户
双击运行 `run_windows_smart.bat` 文件

#### Linux/macOS用户
```bash
chmod +x run_linux_smart.sh
./run_linux_smart.sh
```

#### 无Python环境用户
- Windows: 双击 `setup_windows.bat`
- Linux/macOS: `chmod +x setup_linux.sh && ./setup_linux.sh`

### 第二步：配置API Token
1. 应用启动后，在任意功能模块输入您的ModelScope API Token
2. 勾选"保存API Token到浏览器缓存"
3. Token会安全加密保存在本地

### 第三步：开始使用
选择您需要的功能模块开始使用

## 📝 文生图模块

### 基本功能
- **文本描述**：输入详细的图像描述
- **模型选择**：选择适合的图像生成模型
- **参数调整**：调整图像尺寸、质量等参数

### 元数据功能
- **元数据嵌入**：生成的图像自动包含所有生成参数
- **参数保存**：可将当前参数保存为JSON文件
- **参数加载**：可从图像或JSON文件加载参数

### 使用技巧
1. **详细描述**：提供具体的场景、风格、细节描述
2. **参数实验**：尝试不同的参数组合获得最佳效果
3. **批量生成**：保存参数后可用于批量生成相似风格的图像

## ✏️ 图像编辑模块

### 核心功能
- **上传图像**：支持多种图像格式
- **编辑指令**：用自然语言描述编辑需求
- **参数控制**：调整编辑强度和效果

### 元数据管理
- **参数记录**：编辑参数自动嵌入到输出图像
- **模板保存**：保存常用编辑参数为模板
- **一键复用**：快速应用保存的编辑参数

### 应用场景
- **风格转换**：改变图像艺术风格
- **细节增强**：提升图像细节和清晰度
- **内容修改**：添加、移除或修改图像元素

## 💬 文本对话模块

### 对话功能
- **多轮对话**：支持连续的自然语言对话
- **模型切换**：可选择不同的对话模型
- **上下文保持**：自动维护对话历史

### 专业应用
- **代码生成**：编程辅助和代码解释
- **文档创作**：文章写作和内容优化
- **学习助手**：知识问答和学习指导

## 🔍 图生文模块

### 图像分析
- **内容描述**：自动分析图像内容并生成描述
- **细节识别**：识别图像中的物体、场景、情感
- **多角度分析**：从不同角度解读图像

### 实用功能
- **图像标注**：为图像生成详细的标签和描述
- **内容总结**：快速理解图像核心内容
- **创意启发**：基于图像生成创意想法

## ✍️ 手绘白板模块

### 双工具集成
- **Excalidraw**：简洁手绘风格，适合快速草图
- **tldraw**：现代化界面，功能丰富

### 使用场景
- **流程图设计**：绘制业务流程图和技术架构图
- **思维导图**：整理思路和知识结构
- **原型设计**：快速绘制界面原型和交互设计

### 导出功能
- **PNG导出**：高质量图像导出
- **SVG导出**：矢量格式，便于编辑
- **协作功能**：支持多人实时协作

## 🖼️ Photopea 编辑器模块

### 专业功能
- **图层管理**：完整的图层操作功能
- **滤镜效果**：丰富的图像滤镜和特效
- **画笔工具**：多种画笔和绘图工具

### 格式支持
- **PSD格式**：完整支持Photoshop文件
- **多格式导入**：支持JPG、PNG、SVG等
- **专业输出**：高质量图像导出

## 💾 参数管理功能

### 参数保存
- **自动命名**：文件名包含模块标识和日期时间
- **完整记录**：保存除API Token外的所有参数
- **安全存储**：参数文件不包含敏感信息

### 参数加载
- **多格式支持**：支持图像文件和JSON文件
- **智能识别**：自动识别参数来源和格式
- **一键应用**：快速填充所有参数到界面

### 批量处理
- **模板复用**：使用保存的参数进行批量处理
- **风格一致**：确保批量生成的图像风格统一
- **效率提升**：避免重复设置相同参数

## 🔧 高级功能

### 模型配置
编辑 `modelscope_config.json` 文件自定义模型：
```json
{
  "image_models": ["Qwen/Qwen-Image", "其他模型"],
  "image_edit_models": ["Qwen/Qwen-Image-Edit"],
  "text_models": ["Qwen/Qwen3-Coder-480B-A35B-Instruct"],
  "vision_models": ["stepfun-ai/step3"],
  "default_model": "Qwen/Qwen-Image"
}
```

### 主题切换
- **深色主题**：http://127.0.0.1:7860/?__theme=dark
- **浅色主题**：http://127.0.0.1:7860/?__theme=light
- **系统主题**：http://127.0.0.1:7860

## 🚀 效率技巧

### 快捷键操作
- **快速切换**：使用Tab键在输入框间快速切换
- **参数复制**：使用参数保存功能快速复制设置
- **批量处理**：保存参数模板进行批量操作

### 工作流程
1. **实验阶段**：使用不同参数测试效果
2. **参数保存**：保存最佳效果的参数组合
3. **批量应用**：使用保存的参数进行批量处理
4. **效果优化**：根据结果微调参数设置

## 🛠️ 故障排除

### 常见问题
- **API调用失败**：检查Token是否正确，网络连接是否正常
- **图像生成失败**：调整参数或尝试其他模型
- **应用启动失败**：检查Python环境和依赖包

### 性能优化
- **内存管理**：关闭不必要的标签页释放内存
- **网络优化**：使用稳定的网络连接
- **参数优化**：合理设置参数避免资源浪费

## 📚 学习资源

### 官方文档
- [ModelScope官方文档](https://modelscope.cn/docs)
- [Gradio框架文档](https://gradio.app/docs)

### 社区支持
- [GitHub Issues](https://github.com/AdamShuo/ModelScope-API-WebUI/issues)
- [魔搭社区](https://modelscope.cn/community)

---

**提示**：本指南会随版本更新而调整，建议定期查看最新版本以获取最新使用信息。